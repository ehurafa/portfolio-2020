{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./../../services/posts.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../templates/preloader/preloader.component\";\nconst _c0 = [\"section\"];\nconst _c1 = [\"figure\"];\nconst _c2 = [\"title\"];\nconst _c3 = [\"toback\"];\nfunction JobComponent_app_preloader_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-preloader\");\n  }\n}\nfunction JobComponent_div_6_a_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tec_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(tec_r7.name);\n  }\n}\nconst _c4 = function (a0) {\n  return {\n    \"background-image\": a0\n  };\n};\nfunction JobComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"figure\", 8, 9);\n    i0.ɵɵelement(4, \"img\", 10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"article\")(6, \"h1\")(7, \"span\", null, 11);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(10, \"div\", 12);\n    i0.ɵɵelementStart(11, \"div\", 13)(12, \"p\");\n    i0.ɵɵtext(13, \"T\\u00E9cnologias utilizadas no projeto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"nav\");\n    i0.ɵɵtemplate(15, JobComponent_div_6_a_15_Template, 2, 1, \"a\", 14);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"button\", 15, 16);\n    i0.ɵɵlistener(\"click\", function JobComponent_div_6_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.backClicked());\n    });\n    i0.ɵɵelement(18, \"i\", 17);\n    i0.ɵɵtext(19, \" Voltar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(5, _c4, \"url(\" + (ctx_r2.job == null ? null : ctx_r2.job.acf == null ? null : ctx_r2.job.acf.image_post == null ? null : ctx_r2.job.acf.image_post.url) + \")\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r2.job == null ? null : ctx_r2.job.acf == null ? null : ctx_r2.job.acf.image_post == null ? null : ctx_r2.job.acf.image_post.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.job == null ? null : ctx_r2.job.acf == null ? null : ctx_r2.job.acf.title_post, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r2.job == null ? null : ctx_r2.job.acf == null ? null : ctx_r2.job.acf.post_content, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.technologies);\n  }\n}\nexport let JobComponent = /*#__PURE__*/(() => {\n  class JobComponent {\n    constructor(router, route, postsService, _location, renderer, el) {\n      this.router = router;\n      this.route = route;\n      this.postsService = postsService;\n      this._location = _location;\n      this.renderer = renderer;\n      this.el = el;\n      this.bgColor = new EventEmitter();\n      this.toDataURL = url => fetch(url).then(response => response.blob()).then(blob => new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onloadend = () => resolve(reader.result);\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n      }));\n    }\n    setBack() {\n      this.postsService.setColorPage(this.pageBg);\n    }\n    backClicked() {\n      this._location.back();\n    }\n    setBg(el, dark, light) {\n      //this.renderer.setStyle(el, 'background-image', `linear-gradient(to  right bottom, ${dark}, ${light}`); \n      this.renderer.setStyle(el, 'background-color', `rgba(${light[0]},${light[1]},${light[2]},0.6)`);\n    }\n    showVibrantColor(url) {\n      //  base64\n      this.toDataURL(url).then(dataUrl => {\n        this.imageBase64 = dataUrl;\n        const Vibrant = require('node-vibrant');\n        let image = new Image(200, 200);\n        image.src = this.imageBase64;\n        Vibrant.from(image).getPalette().then(palette => {\n          this.palette = palette;\n          console.log('palette ', this.palette);\n          this.setBg(this.figure.nativeElement, this.palette.DarkVibrant.getHex(), this.palette.Muted.rgb);\n          //this.setBg(this.section.nativeElement, this.palette.DarkVibrant.getHex(),this.palette.Vibrant.getHex()); \n          //this.renderer.setStyle(this.title.nativeElement, 'background-color', this.palette.Vibrant.getHex());    \n          //this.renderer.setStyle(this.title.nativeElement, 'background-color', this.palette.DarkVibrant.getHex() ); \n          //this.renderer.setStyle(this.title.nativeElement, 'color', this.palette.DarkVibrant.titleTextColor); \n          this.renderer.setStyle(this.toback.nativeElement, 'background-color', this.palette.DarkVibrant.getHex());\n          this.renderer.setStyle(this.toback.nativeElement, 'color', this.palette.DarkVibrant.titleTextColor);\n          this.postsService.setColorPage = palette;\n          //this.bgColor.emit(palette);\n          this.postsService.colorEmmit.subscribe(cor => cor //console.log('corrr ', cor)\n          );\n        });\n      });\n    }\n\n    ngOnInit() {\n      const id = +this.route.snapshot.paramMap.get('id');\n      this.postsService.getPost(id).subscribe(job => {\n        var _a, _b, _c, _d, _e, _f;\n        this.job = job;\n        this.technologies = (_b = (_a = this.job) === null || _a === void 0 ? void 0 : _a.acf) === null || _b === void 0 ? void 0 : _b.list_of_technologies;\n        this.showVibrantColor((_f = (_e = (_d = (_c = this.job) === null || _c === void 0 ? void 0 : _c.acf) === null || _d === void 0 ? void 0 : _d.image_post) === null || _e === void 0 ? void 0 : _e.sizes) === null || _f === void 0 ? void 0 : _f.large);\n      });\n    }\n    ngDoCheck() {}\n    ngAfterContentInit() {}\n    ngAfterContentChecked() {}\n    ngAfterViewInit() {\n      // console.log('this.postsService.getColorPage ',this.postsService.getColorPage());\n    }\n    ngAfterViewChecked() {}\n  }\n  JobComponent.ɵfac = function JobComponent_Factory(t) {\n    return new (t || JobComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.PostsService), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  JobComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: JobComponent,\n    selectors: [[\"app-job\"]],\n    viewQuery: function JobComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n        i0.ɵɵviewQuery(_c3, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.section = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.figure = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.title = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.toback = _t.first);\n      }\n    },\n    inputs: {\n      nomeBehaviorSubject: \"nomeBehaviorSubject\"\n    },\n    outputs: {\n      bgColor: \"bgColor\"\n    },\n    decls: 7,\n    vars: 2,\n    consts: [[\"section\", \"\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-12\"], [4, \"ngIf\"], [\"class\", \"job transition\", 4, \"ngIf\"], [1, \"job\", \"transition\"], [1, \"image\", 3, \"ngStyle\"], [1, \"imgWrap\"], [\"figure\", \"\"], [3, \"src\"], [\"title\", \"\"], [3, \"innerHTML\"], [1, \"technologies\"], [\"class\", \"badge\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"btn\", \"btn-lg\", \"btn-block\", \"mb-3\", \"to-back\", 3, \"click\"], [\"toback\", \"\"], [1, \"fas\", \"fa-chevron-left\"], [1, \"badge\"]],\n    template: function JobComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", null, 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3);\n        i0.ɵɵtemplate(5, JobComponent_app_preloader_5_Template, 1, 0, \"app-preloader\", 4);\n        i0.ɵɵtemplate(6, JobComponent_div_6_Template, 20, 7, \"div\", 5);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !ctx.job);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.job);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i3.NgStyle, i4.PreloaderComponent],\n    styles: [\".transition{transition:all 1.3s ease}.job .image{width:100%;display:block;text-align:center;filter:saturate(2);background-size:cover;background-position:50% 50%}.job .image figure{display:block;padding:0}.job .image figure img{filter:saturate(.3);filter:drop-shadow(0 0 10px rgba(0,0,0,.4))}.job article{padding:3rem 0 2rem}.job article h1{font-size:4rem;margin-bottom:1.5rem}.job article h1 span{color:#000}@media (max-width: 768px){.job article h1{font-size:1.5rem}}.job article h3{font-size:1.2rem;font-weight:300}.job article h3 a{transition:all .3s ease;background:#00ffeb;color:#000;padding:0 .5rem}.job article h3 a:hover{text-decoration:none;background:#000;color:#00ffeb}@media (max-width: 768px){.job article h3{font-size:1rem}}.job article p{margin-top:2rem;font-weight:300}.job article p strong{font-weight:500}.job article p a{text-decoration:underline}.job .to-back{transition:all 1s ease;border-radius:0;font-size:.8rem;opacity:.9}.job .to-back i{margin-right:.5rem}.job .to-back:hover{opacity:1}.technologies nav{display:block;padding:0}.technologies nav .badge{background:#282828;color:#fff;margin:0 .8rem 0 0}.technologies nav .badge:hover{color:#fff}\\n\"],\n    encapsulation: 2\n  });\n  return JobComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}