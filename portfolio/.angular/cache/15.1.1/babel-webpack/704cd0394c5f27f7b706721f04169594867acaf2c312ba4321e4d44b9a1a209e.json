{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = function (a0, a1) {\n  return [a0, a1, \"progress-bar\"];\n};\nconst _c1 = function (a0) {\n  return {\n    \"width\": a0\n  };\n};\nfunction ContactComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelement(1, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c0, ctx_r0.completeSteps ? \"complete\" : \"\", ctx_r0.color))(\"ngStyle\", i0.ɵɵpureFunction1(5, _c1, ctx_r0.progress + \"%\"));\n  }\n}\nconst _c2 = function (a0, a1) {\n  return {\n    \"invalid\": a0,\n    \"valid\": a1\n  };\n};\nfunction ContactComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"i\", 14);\n    i0.ɵɵelementStart(2, \"input\", 15);\n    i0.ɵɵlistener(\"keydown\", function ContactComponent_div_11_Template_input_keydown_2_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.step(\"email\", ctx_r6.name.valid));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(1, _c2, ctx_r2.email.invalid && (ctx_r2.email.dirty || ctx_r2.email.touched), ctx_r2.email.valid && (ctx_r2.email.dirty || ctx_r2.email.touched)));\n  }\n}\nfunction ContactComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"i\", 16);\n    i0.ɵɵelementStart(2, \"input\", 17);\n    i0.ɵɵlistener(\"keydown\", function ContactComponent_div_12_Template_input_keydown_2_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.step(\"subject\", ctx_r8.name.valid));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(1, _c2, ctx_r3.subject.invalid && (ctx_r3.subject.dirty || ctx_r3.subject.touched), ctx_r3.subject.valid && (ctx_r3.subject.dirty || ctx_r3.subject.touched)));\n  }\n}\nfunction ContactComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"i\", 18);\n    i0.ɵɵelementStart(2, \"textarea\", 19);\n    i0.ɵɵlistener(\"keydown\", function ContactComponent_div_13_Template_textarea_keydown_2_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.step(\"message\", ctx_r10.name.valid));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(1, _c2, ctx_r4.message.invalid && (ctx_r4.message.dirty || ctx_r4.message.touched), ctx_r4.message.valid && (ctx_r4.message.dirty || ctx_r4.message.touched)));\n  }\n}\nfunction ContactComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 20)(2, \"div\", 21);\n    i0.ɵɵelement(3, \"span\", 22)(4, \"span\", 23)(5, \"div\", 24)(6, \"div\", 25);\n    i0.ɵɵelementEnd()()();\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    \"light\": a0\n  };\n};\nconst _c4 = function (a0, a1) {\n  return {\n    \"is-sent\": a0,\n    \"off\": a1\n  };\n};\nexport let ContactComponent = /*#__PURE__*/(() => {\n  class ContactComponent {\n    constructor(http) {\n      this.http = http;\n      this.progress = 0;\n      this.total = 100;\n      this.completeSend = false;\n      this.initFeedback = false;\n      this.onFeedback = false;\n      this.completeSteps = false;\n      this.showBar = true;\n      this.validateTable = [{\n        \"id\": 0,\n        \"key\": \"name\",\n        \"name\": \"\",\n        \"color\": \"red\",\n        \"typed\": false,\n        \"progress\": 20\n      }, {\n        \"id\": 1,\n        \"key\": \"email\",\n        \"email\": \"\",\n        \"color\": \"orange\",\n        \"typed\": false,\n        \"progress\": 40\n      }, {\n        \"id\": 2,\n        \"key\": \"subject\",\n        \"subject\": \"\",\n        \"color\": \"green\",\n        \"typed\": false,\n        \"progress\": 60\n      }, {\n        \"id\": 3,\n        \"key\": \"message\",\n        \"message\": \"\",\n        \"color\": \"blue\",\n        \"typed\": false,\n        \"progress\": 100\n      }];\n      this.contactForm = new FormGroup({\n        'name': new FormControl(this.validateTable[0]['name'], [Validators.required, Validators.minLength(4)]),\n        'email': new FormControl(this.validateTable[1]['email'], [Validators.required, Validators.minLength(4), Validators.email]),\n        'subject': new FormControl(this.validateTable[2]['subject'], [Validators.required, Validators.minLength(4)]),\n        'message': new FormControl(this.validateTable[3]['message'], [Validators.required, Validators.minLength(4)])\n      });\n    }\n    setProps(el) {\n      let filtered = this.validateTable.filter(function (e) {\n        return e.key == el;\n      });\n      this.setTyped(filtered[0].id, true);\n      this.setColor(filtered[0].color);\n      this.setProgress(filtered[0].progress);\n    }\n    setTyped(pos, typed) {\n      this.validateTable[pos].typed = typed;\n    }\n    setColor(color) {\n      this.color = color;\n    }\n    setProgress(progress) {\n      this.progress = progress;\n    }\n    resetAnimation() {\n      for (let index = 0; index < this.validateTable.length; index++) {\n        this.setTyped(index, false);\n      }\n      this.setColor('red');\n      this.setProgress(0);\n    }\n    step(el, valid) {\n      this.completeSteps = false;\n      if (el == 'name' && valid == true) {\n        if (this.validateTable[0].typed == false) {\n          this.setProps('name');\n        }\n      } else if (el == 'email' && valid == true) {\n        if (this.validateTable[1].typed == false) {\n          this.setProps('email');\n        }\n      } else if (el == 'subject' && valid == true) {\n        if (this.validateTable[2].typed == false) {\n          this.setProps('subject');\n        }\n      } else if (el == 'message' && valid == true) {\n        if (this.validateTable[3].typed == false) {\n          this.setProps('message');\n        }\n        this.completeSteps = true;\n      }\n    }\n    initBar() {\n      if (!this.progress) {\n        this.progress = 0;\n      }\n      if (this.total === 0) {\n        this.total = this.progress;\n      } else if (!this.total) {\n        this.total = 100;\n      }\n      if (this.progress > this.total) {\n        this.progress = 100;\n        this.total = 100;\n      }\n      this.progress = this.progress / this.total * 100;\n    }\n    ngOnInit() {\n      this.initBar();\n      this.setColor('red');\n    }\n    get name() {\n      return this.contactForm.get('name');\n    }\n    get email() {\n      return this.contactForm.get('email');\n    }\n    get subject() {\n      return this.contactForm.get('subject');\n    }\n    get message() {\n      return this.contactForm.get('message');\n    }\n    onSubmit(formData, formDirective) {\n      // TODO: Use EventEmitter with form value\n      let self = this;\n      if (this.contactForm.valid) {\n        const email = this.contactForm.value;\n        const headers = new HttpHeaders({\n          'Content-Type': 'application/json'\n        });\n        this.http.post('https://formspree.io/mlepjazv', {\n          name: email.name,\n          //email: email.email, subject: email.subject, \n          message: email.message\n        }, {\n          'headers': headers\n        }).subscribe(response => {\n          this.completeSend = true;\n          self.showBar = false;\n          setTimeout(function () {\n            self.initFeedback = true;\n            self.resetAnimation();\n          }, 200);\n          setTimeout(function () {\n            self.onFeedback = true;\n            self.completeSend = false;\n            formDirective.resetForm();\n            self.contactForm.reset();\n          }, 2000);\n          setTimeout(function () {\n            self.onFeedback = false;\n            self.initFeedback = false;\n            self.showBar = true;\n          }, 4000);\n        });\n      }\n    }\n  }\n  ContactComponent.ɵfac = function ContactComponent_Factory(t) {\n    return new (t || ContactComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n  ContactComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContactComponent,\n    selectors: [[\"app-contact\"]],\n    decls: 17,\n    vars: 18,\n    consts: [[1, \"container-fluid\", 3, \"ngClass\"], [1, \"contact\"], [\"class\", \"progress-bar-container\", 4, \"ngIf\"], [1, \"contact__inner\"], [3, \"formGroup\", \"ngClass\", \"ngSubmit\"], [\"formDirective\", \"ngForm\"], [1, \"form-field\", 3, \"ngClass\"], [1, \"fas\", \"fa-file-signature\", \"icon\"], [\"type\", \"text\", \"placeholder\", \"Nome\", \"formControlName\", \"name\", \"required\", \"\", 1, \"form-field__field\", 3, \"keydown\"], [\"class\", \"form-field\", 3, \"ngClass\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"button\", 3, \"disabled\"], [4, \"ngIf\"], [1, \"progress-bar-container\"], [3, \"ngClass\", \"ngStyle\"], [1, \"far\", \"fa-comment-dots\", \"icon\"], [\"type\", \"email\", \"placeholder\", \"Email\", \"formControlName\", \"email\", \"required\", \"\", 1, \"form-field__field\", 3, \"keydown\"], [1, \"fas\", \"fa-quote-left\", \"icon\"], [\"type\", \"text\", \"placeholder\", \"Assunto\", \"formControlName\", \"subject\", \"required\", \"\", 1, \"form-field__field\", 3, \"keydown\"], [1, \"far\", \"fa-envelope\", \"icon\"], [\"type\", \"text\", \"placeholder\", \"Mensagem\", \"formControlName\", \"message\", \"required\", \"\", 1, \"form-field__field\", 3, \"keydown\"], [1, \"success-checkmark\"], [1, \"check-icon\"], [1, \"icon-line\", \"line-tip\"], [1, \"icon-line\", \"line-long\"], [1, \"icon-circle\"], [1, \"icon-fix\"]],\n    template: function ContactComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r12 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n        i0.ɵɵtext(3, \"Contato\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, ContactComponent_div_4_Template, 2, 7, \"div\", 2);\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"form\", 4, 5);\n        i0.ɵɵlistener(\"ngSubmit\", function ContactComponent_Template_form_ngSubmit_6_listener() {\n          i0.ɵɵrestoreView(_r12);\n          const _r1 = i0.ɵɵreference(7);\n          return i0.ɵɵresetView(ctx.onSubmit(ctx.contactForm, _r1));\n        });\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵelement(9, \"i\", 7);\n        i0.ɵɵelementStart(10, \"input\", 8);\n        i0.ɵɵlistener(\"keydown\", function ContactComponent_Template_input_keydown_10_listener() {\n          return ctx.step(\"name\", ctx.name.valid);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(11, ContactComponent_div_11_Template, 3, 4, \"div\", 9);\n        i0.ɵɵtemplate(12, ContactComponent_div_12_Template, 3, 4, \"div\", 9);\n        i0.ɵɵtemplate(13, ContactComponent_div_13_Template, 3, 4, \"div\", 9);\n        i0.ɵɵelementStart(14, \"button\", 10);\n        i0.ɵɵtext(15, \"Enviar\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(16, ContactComponent_div_16_Template, 7, 0, \"div\", 11);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c3, ctx.initFeedback));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.showBar);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.contactForm)(\"ngClass\", i0.ɵɵpureFunction2(12, _c4, ctx.completeSend, ctx.initFeedback));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(15, _c2, ctx.name.invalid && (ctx.name.dirty || ctx.name.touched), ctx.name.valid && (ctx.name.dirty || ctx.name.touched)));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.name.valid || ctx.name.dirty && ctx.name.invalid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.email.valid || ctx.email.dirty && ctx.email.invalid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.subject.valid || ctx.subject.dirty && ctx.subject.invalid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.contactForm.valid);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.completeSend);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgIf, i2.NgStyle, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.FormGroupDirective, i3.FormControlName],\n    styles: [\".contact[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:block;width:100%;float:left}.light[_ngcontent-%COMP%]{background:#fff;height:100vh}[_nghost-%COMP%]{background:#333;display:block;width:100%;height:100vh;float:left}.contact[_ngcontent-%COMP%]{padding:4rem 0;max-width:600px;margin:0 auto}.contact[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:5rem;color:#fff;text-align:center;margin-bottom:2rem}@media (max-width: 768px){.contact[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem}}.contact__inner[_ngcontent-%COMP%]{position:relative}.contact[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{transition:all .5s ease-in-out}.contact[_ngcontent-%COMP%]   form.is-sent[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_launch 1.5s ease-in}.contact[_ngcontent-%COMP%]   form.off[_ngcontent-%COMP%]{display:none}@media (max-width: 576px){.contact[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:4rem}}.contact[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{transition:all .5s ease-in-out;display:none}.contact[_ngcontent-%COMP%]   .feedback.on[_ngcontent-%COMP%]{display:block;position:absolute;top:0;left:0}@keyframes _ngcontent-%COMP%_launch{0%{opacity:1;transform:translate(0) scale(1)}10%,15%{transform:translate(0) scale(.5)}30%,35%{transform:translate(-20) scale(.5)}40%,70%{transform:translate(100vw) scale(.5)}71%,to{opacity:0}}.progress-bar-container[_ngcontent-%COMP%]{background:#333;border:1px solid #333;height:3px;margin-bottom:1rem}.progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{border-radius:2px;height:4px;width:0;position:relative;top:-1px;left:-1px;background-size:100px 30px,130px 30px,130px 30px;background-position:-20% center,right center,left center;background-repeat:no-repeat,no-repeat,no-repeat;transition:opacity .2s ease,width .8s ease-out,background-color 1s ease,border-color .3s ease,box-shadow 1s ease;animation:_ngcontent-%COMP%_pulse 3s ease-out infinite}.progress-bar-container[_ngcontent-%COMP%]   .progress-bar.green[_ngcontent-%COMP%]{background-color:#008000f2;background-image:linear-gradient(90deg,rgba(0,154,0,0) 10%,rgba(0,179,0,.8) 30%,#00cd00 70%,rgba(0,179,0,.8) 80%,rgba(0,154,0,0) 90%),linear-gradient(to right,rgba(0,205,0,0) 0%,#00cd00 100%),linear-gradient(to left,rgba(0,205,0,0) 0%,#00cd00 100%);border-color:#00e600;box-shadow:0 0 .6em #00b300 inset,0 0 .4em #009a00 inset,0 0 .5em #00800080,0 0 .1em #80ff8080}.progress-bar-container[_ngcontent-%COMP%]   .progress-bar.yellow[_ngcontent-%COMP%]{background-color:#ffff00f2;background-image:linear-gradient(90deg,rgba(255,255,26,0) 10%,rgba(255,255,51,.8) 30%,#ffff4d 70%,rgba(255,255,51,.8) 80%,rgba(255,255,26,0) 90%),linear-gradient(to right,rgba(255,255,77,0) 0%,#ffff4d 100%),linear-gradient(to left,rgba(255,255,77,0) 0%,#ffff4d 100%);border-color:#ff6;box-shadow:0 0 .6em #ff3 inset,0 0 .4em #ffff1a inset,0 0 .5em #ffff0080,0 0 .1em #ffffff80}.progress-bar-container[_ngcontent-%COMP%]   .progress-bar.orange[_ngcontent-%COMP%]{background-color:#ffa500f2;background-image:linear-gradient(90deg,rgba(255,174,26,0) 10%,rgba(255,183,51,.8) 30%,#ffc04d 70%,rgba(255,183,51,.8) 80%,rgba(255,174,26,0) 90%),linear-gradient(to right,rgba(255,192,77,0) 0%,#ffc04d 100%),linear-gradient(to left,rgba(255,192,77,0) 0%,#ffc04d 100%);border-color:#ffc966;box-shadow:0 0 .6em #ffb733 inset,0 0 .4em #ffae1a inset,0 0 .5em #ffa50080,0 0 .1em #ffffff80}.progress-bar-container[_ngcontent-%COMP%]   .progress-bar.red[_ngcontent-%COMP%]{background-color:#ff0000f2;background-image:linear-gradient(90deg,rgba(255,26,26,0) 10%,rgba(255,51,51,.8) 30%,#ff4d4d 70%,rgba(255,51,51,.8) 80%,rgba(255,26,26,0) 90%),linear-gradient(to right,rgba(255,77,77,0) 0%,#ff4d4d 100%),linear-gradient(to left,rgba(255,77,77,0) 0%,#ff4d4d 100%);border-color:#f66;box-shadow:0 0 .6em #f33 inset,0 0 .4em #ff1a1a inset,0 0 .5em #ff000080,0 0 .1em #ffffff80}.progress-bar-container[_ngcontent-%COMP%]   .progress-bar.blue[_ngcontent-%COMP%]{background-color:#00ffebf2;background-image:linear-gradient(90deg,rgba(26,255,237,0) 10%,rgba(51,255,239,.8) 30%,#4dfff1 70%,rgba(51,255,239,.8) 80%,rgba(26,255,237,0) 90%),linear-gradient(to right,rgba(77,255,241,0) 0%,#4dfff1 100%),linear-gradient(to left,rgba(77,255,241,0) 0%,#4dfff1 100%);border-color:#66fff3;box-shadow:0 0 .6em #33ffef inset,0 0 .4em #1affed inset,0 0 .5em #00ffeb80,0 0 .1em #ffffff80}.progress-bar-container[_ngcontent-%COMP%]   .progress-bar.complete[_ngcontent-%COMP%]{animation:none}.progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{width:100%;height:4px;line-height:4px;color:#fff;display:inline-block;text-align:center;font-size:.8rem;font-weight:700;opacity:0}@keyframes _ngcontent-%COMP%_pulse{0%{background-position:-50% center,right center,left center}to{background-position:150% center,right center,left center}}\"]\n  });\n  return ContactComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}